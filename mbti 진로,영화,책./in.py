# app.py
import streamlit as st
import random

st.set_page_config(page_title="MBTI 맞춤 추천 🎯", page_icon="🎬", layout="centered")

st.title("너의 MBTI로 보는 영화🎥, 책📚, 진로💼 추천!")
st.markdown("MBTI 유형 하나만 선택하면, 딱 맞는 한국 영화, 책, 진로를 2개씩 추천해줄게 😎")
st.caption("※ 재미와 참고용이에요! 진짜 선택은 항상 '너 자신' ✨")

MBTI_TYPES = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

DATA = {
    "ISTJ": {
        "영화": [
            ("내부자들", "법학·행정학", "체계적이고 현실 감각이 뛰어난 사람에게 어울려요. 현실적 판단력이 강한 타입! ⚖️"),
            ("국가부도의 날", "경제학·경영학", "책임감 있고 분석적인 사고를 가진 사람에게 딱이에요. 💼")
        ],
        "책": [
            ("공정하다는 착각 - 마이클 샌델", "철학·정치외교학", "논리적 사고로 사회 문제를 깊이 있게 고민하는 걸 좋아하는 타입! 🧠"),
            ("하버드 상위 1퍼센트의 비밀", "경영학", "목표 지향적이고 자기 관리가 철저한 사람에게 어울려요. 📈")
        ],
        "진로": [
            ("공무원 / 행정직", "행정학", "규칙을 잘 지키고 계획적인 사람에게 적합해요. 🏛️"),
            ("회계사 / 세무사", "회계학", "꼼꼼하고 책임감 있는 성격이라면 찰떡! 💰")
        ]
    },
    "INFP": {
        "영화": [
            ("우리들의 행복한 시간", "심리학·문예창작", "감성적이고 내면의 깊이를 탐구하는 사람에게 잘 맞아요. 💔"),
            ("리틀 포레스트", "식품영양학·농학", "자연과 평화로운 삶을 추구하는 감성파에게 어울려요. 🌿")
        ],
        "책": [
            ("죽음에 관하여 - 어니스트 베커", "심리학·철학", "인간의 존재와 감정을 진지하게 탐구하는 타입에게 딱이에요. 🧘"),
            ("아몬드 - 손원평", "국어국문학", "감정 표현과 공감을 중요하게 여기는 사람에게 잘 어울려요. 💞")
        ],
        "진로": [
            ("작가 / 시나리오 작가", "문예창작학", "창의적이고 감정이 풍부한 사람에게 적합해요. ✍️"),
            ("상담심리사", "심리학", "다른 사람의 마음을 이해하고 돕는 걸 좋아하는 타입에게 좋아요. 💬")
        ]
    },
    "ENTP": {
        "영화": [
            ("타짜", "경영학·심리학", "재치 있고 즉흥적인 성격, 전략 짜는 걸 좋아하는 사람에게 어울려요. 🎲"),
            ("베테랑", "법학·경찰행정학", "불의에 맞서고 논리적인 사고를 즐기는 사람에게 잘 맞아요. ⚡")
        ],
        "책": [
            ("생각의 탄생 - 루트번스타인", "창의융합학", "다양한 관점을 넘나들며 아이디어를 만드는 걸 즐기는 사람에게 추천! 💡"),
            ("언스크립티드 - 엠제이 드마코", "경영학", "자유롭고 혁신적인 사고를 가진 사람에게 찰떡이에요. 🚀")
        ],
        "진로": [
            ("창업가 / 스타트업 대표", "경영학", "새로운 아이디어로 세상을 바꾸고 싶은 사람에게 어울려요. 💼"),
            ("기획자 / 마케터", "광고홍보학", "창의력과 말솜씨가 좋은 사람이라면 완벽한 선택! 🎯")
        ]
    },
    "ISFP": {
        "영화": [
            ("리틀 포레스트", "식품영양학·조리학", "자연과 감성의 조화를 좋아하는 사람에게 어울려요. 🌳"),
            ("건축학개론", "디자인학·건축학", "감성적이고 섬세한 감각을 가진 사람에게 딱이에요. 🎧")
        ],
        "책": [
            ("어린왕자 - 생텍쥐페리", "문학·인문학", "감수성이 풍부하고 순수한 시선을 가진 사람에게 좋아요. 🌟"),
            ("무례한 사람에게 웃으며 대처하는 법", "심리학", "조용하지만 속으로 강한 사람에게 공감될 거예요. 😊")
        ],
        "진로": [
            ("디자이너 / 일러스트레이터", "시각디자인학", "감각적이고 미적 표현을 즐기는 사람에게 잘 맞아요. 🎨"),
            ("요리사 / 제과제빵사", "조리학", "손으로 표현하는 걸 좋아하고 섬세한 성격에게 어울려요. 🍰")
        ]
    },
    # 필요시 다른 MBTI도 같은 형식으로 추가 가능!
}

st.write("---")
selected = st.selectbox("너의 MBTI를 골라줘 👇", MBTI_TYPES)

if st.button("추천 받기 🎁"):
    st.success(f"{selected} 유형에게 딱 맞는 추천 리스트야! ✨")
    if selected in DATA:
        info = DATA[selected]
        for category, items in info.items():
            st.markdown(f"## {category} 추천 📌")
            random.shuffle(items)
            for i, (title, major, personality) in enumerate(items, start=1):
                st.markdown(f"**{i}. {title}**")
                st.write(f"- **추천 학과:** {major}")
                st.write(f"- **어떤 성격이 어울릴까?** {personality}")
                st.write("")
            st.write("---")
    else:
        st.warning("아직 이 MBTI 데이터는 준비 중이에요! 조금만 기다려줘 😅")
else:
    st.info("MBTI를 고르고 '추천 받기 🎁' 버튼을 눌러봐!")

st.write("")
st.markdown("#### 🎯 작지만 진짜 중요한 팁!")
st.markdown("- 네가 **즐거웠던 순간**을 떠올려봐. 거기서 진로 힌트를 찾을 수 있어! 🌱")
st.markdown("- 영화나 책 속 인물 중 ‘닮고 싶은 사람’을 찾아보는 것도 좋아요. 🎬")

st.caption("만들어준 사람: ChatGPT — 진로 탐색은 네가 주인공이야! 🚀")
