import streamlit as st
import folium
from streamlit_folium import st_folium
import pandas as pd

st.set_page_config(page_title="μ„μΈ μ£Όμ” κ΄€κ΄‘μ§€ TOP10", layout="wide")

# --- μ„μΈ μ£Όμ” κ΄€κ΄‘μ§€ λ°μ΄ν„° ---
ATTRACTIONS = [
    {
        "name": "κ²½λ³µκ¶",
        "lat": 37.579617,
        "lon": 126.977041,
        "desc": "μ΅°μ„ μ λ²•κ¶μΌλ΅, κ°€μ¥ λ€ν‘μ μΈ κ¶κ¶μ…λ‹λ‹¤. κ·Όμ •μ „, κ²½νλ£¨ λ“± ν•κµ­ μ „ν†µ κ±΄μ¶•λ―Έλ¥Ό κ°μƒν•  μ μμµλ‹λ‹¤.",
        "trans": "μ§€ν•μ²  3νΈμ„  κ²½λ³µκ¶μ—­ 5λ² μ¶κµ¬ λ„λ³΄ 5λ¶„"
    },
    {
        "name": "μ°½λ•κ¶κ³Ό ν›„μ›",
        "lat": 37.579377,
        "lon": 126.991047,
        "desc": "μ λ„¤μ¤μ½” μ„Έκ³„λ¬Έν™”μ μ‚°μΌλ΅ μ§€μ •λ μ΅°μ„ μ‹λ€ κ¶κ¶μ…λ‹λ‹¤. μμ—°κ³Ό μ΅°ν™”λ¥Ό μ΄λ£¬ μ•„λ¦„λ‹¤μ΄ ν›„μ›μ΄ μ λ…ν•©λ‹λ‹¤.",
        "trans": "μ§€ν•μ²  3νΈμ„  μ•κµ­μ—­ 3λ² μ¶κµ¬ λ„λ³΄ 5λ¶„"
    },
    {
        "name": "λ¶μ΄ν•μ¥λ§μ„",
        "lat": 37.582600,
        "lon": 126.983000,
        "desc": "μ „ν†µ ν•μ¥μ΄ λ°€μ§‘λ λ§μ„λ΅, ν•λ³µ μ²΄ν—κ³Ό μ „ν†µ κ³µμ μ²΄ν—μ΄ κ°€λ¥ν•©λ‹λ‹¤.",
        "trans": "μ§€ν•μ²  3νΈμ„  μ•κµ­μ—­ 2λ² μ¶κµ¬ λ„λ³΄ 10λ¶„"
    },
    {
        "name": "λ‚¨μ‚°μ„μΈνƒ€μ›",
        "lat": 37.551169,
        "lon": 126.988226,
        "desc": "μ„μΈ μ „κ²½μ„ ν•λμ— λ³Ό μ μλ” μ „λ§ λ…μ†μ…λ‹λ‹¤. μ•Όκ²½μ΄ μ•„λ¦„λ‹µκ³ , μ‚¬λ‘μ μλ¬Όμ‡ λ΅ μ λ…ν•©λ‹λ‹¤.",
        "trans": "λ…λ™μ—­(4νΈμ„ ) 3λ² μ¶κµ¬ β†’ λ‚¨μ‚°μν™λ²„μ¤ 05λ² μ΄μ©"
    },
    {
        "name": "λ…λ™κ±°λ¦¬",
        "lat": 37.560975,
        "lon": 126.986016,
        "desc": "μ™Έκµ­μΈ κ΄€κ΄‘κ°μ΄ κ°€μ¥ λ§μ΄ μ°Ύλ” μ‡Όν•‘κ±°λ¦¬λ΅, ν™”μ¥ν’ λ§¤μ¥κ³Ό κΈΈκ±°λ¦¬ μμ‹μ΄ κ°€λ“ν•©λ‹λ‹¤.",
        "trans": "μ§€ν•μ²  4νΈμ„  λ…λ™μ—­ 6λ² μ¶κµ¬"
    },
    {
        "name": "μΈμ‚¬λ™ λ¬Έν™”κ±°λ¦¬",
        "lat": 37.574435,
        "lon": 126.984969,
        "desc": "μ „ν†µ κ³µμν’, μ°»μ§‘, κ°¤λ¬λ¦¬ λ“±μ΄ λ¨μ—¬ μλ” λ¬Έν™”μ κ±°λ¦¬μ…λ‹λ‹¤. ν•κµ­μ μΈ λ¶„μ„κΈ°λ¥Ό λλ‚„ μ μμµλ‹λ‹¤.",
        "trans": "μ§€ν•μ²  3νΈμ„  μ•κµ­μ—­ 6λ² μ¶κµ¬ λ„λ³΄ 5λ¶„"
    },
    {
        "name": "λ™λ€λ¬Έλ””μμΈν”λΌμ(DDP)",
        "lat": 37.566295,
        "lon": 127.009005,
        "desc": "μ„μΈμ λλ“λ§ν¬ μ¤‘ ν•λ‚λ΅, ν„λ€μ μΈ λ””μμΈκ³Ό ν¨μ… μ „μ‹κ°€ μ–΄μ°λ¬μ§„ λ³µν•©λ¬Έν™”κ³µκ°„μ…λ‹λ‹¤.",
        "trans": "μ§€ν•μ²  2Β·4Β·5νΈμ„  λ™λ€λ¬Έμ—­μ‚¬λ¬Έν™”κ³µμ›μ—­ 1λ² μ¶κµ¬"
    },
    {
        "name": "ν™λ€κ±°λ¦¬",
        "lat": 37.556256,
        "lon": 126.922655,
        "desc": "μ μμ κ±°λ¦¬λ΅ λ¶λ¦¬λ©°, μμ•… κ³µμ—°, κ±°λ¦¬ μμ , λ§›μ§‘, μΉ΄νκ°€ λ°€μ§‘ν•΄ μμµλ‹λ‹¤.",
        "trans": "μ§€ν•μ²  2νΈμ„  ν™λ€μ…κµ¬μ—­ 9λ² μ¶κµ¬"
    },
    {
        "name": "κ°•λ‚¨ μ½”μ—‘μ¤λ°",
        "lat": 37.512021,
        "lon": 127.058567,
        "desc": "μ‡Όν•‘, μ „μ‹, μν™”κ΄€, μ•„μΏ μ•„λ¦¬μ›€ λ“±μ΄ μλ” λ€ν• λ³µν•©λ¬Έν™”κ³µκ°„μ…λ‹λ‹¤.",
        "trans": "μ§€ν•μ²  2νΈμ„  μ‚Όμ„±μ—­ 5Β·6λ² μ¶κµ¬"
    },
    {
        "name": "λ΅―λ°μ›”λ“νƒ€μ›",
        "lat": 37.512569,
        "lon": 127.102492,
        "desc": "123μΈµ μ΄κ³ μΈµ κ±΄λ¬Όλ΅, μ „λ§λ€ μ„μΈμ¤μΉ΄μ΄μ™€ μ‡Όν•‘λ°, μ•„μΏ μ•„λ¦¬μ›€ λ“±μ„ μ¦κΈΈ μ μμµλ‹λ‹¤.",
        "trans": "μ§€ν•μ²  2Β·8νΈμ„  μ μ‹¤μ—­ 1λ² μ¶κµ¬"
    },
]

df = pd.DataFrame(ATTRACTIONS)

# --- ν™”λ©΄ κµ¬μ„± ---
col1, col2 = st.columns((1, 2))

with col1:
    st.title("π‡°π‡· μ„μΈ μ£Όμ” κ΄€κ΄‘μ§€ TOP10")
    st.markdown("μ„μΈμ„ μ²μ λ°©λ¬Έν•λ” μ™Έκµ­μΈμ—κ² μΈκΈ° μλ” λ€ν‘ λ…μ† 10κ³³μ„ μ†κ°ν•©λ‹λ‹¤.")
    st.sidebar.header("μ„¤μ •")
    show_map = st.sidebar.checkbox("μ§€λ„ ν‘μ‹", value=True)
    selected = st.sidebar.selectbox("ν•μ΄λΌμ΄νΈν•  μ¥μ†", ["μ „μ²΄ λ³΄κΈ°"] + df["name"].tolist())

with col2:
    if show_map:
        m = folium.Map(location=[37.5665, 126.9780], zoom_start=12)

        for i, row in df.iterrows():
            popup = f"<b>{row['name']}</b><br>{row['desc']}<br><i>{row['trans']}</i>"
            color = "red" if selected == row["name"] else "blue"
            folium.Marker(
                [row["lat"], row["lon"]],
                popup=popup,
                tooltip=f"{i+1}. {row['name']}",
                icon=folium.Icon(color=color)
            ).add_to(m)

        if selected != "μ „μ²΄ λ³΄κΈ°":
            spot = df[df["name"] == selected].iloc[0]
            m.fit_bounds([(spot["lat"], spot["lon"]), (spot["lat"], spot["lon"])])

        st_folium(m, width=630, height=420)

        # μ§€λ„ ν•λ‹¨ κ΄€κ΄‘μ§€ κ°„λ‹¨ μ •λ³΄
        st.markdown("### π—ΊοΈ κ΄€κ΄‘μ§€ μ”μ•½ μ •λ³΄")
        for i, row in df.iterrows():
            st.markdown(f"**{i+1}. {row['name']}** β€” {row['desc']}  \nπ‡ {row['trans']}")
    else:
        st.info("μ‚¬μ΄λ“λ°”μ—μ„ 'μ§€λ„ ν‘μ‹'λ¥Ό μ²΄ν¬ν•λ©΄ μ§€λ„λ¥Ό λ³Ό μ μμµλ‹λ‹¤.")

st.markdown("---")
st.caption("λ°μ΄ν„° μ¶μ²: μ„μΈκ΄€κ΄‘μ¬λ‹¨, VisitSeoul, μ„μΈκµν†µκ³µμ‚¬ λ“± κ³µκ° μλ£λ¥Ό κΈ°λ°μΌλ΅ μ •λ¦¬ν•μ€μµλ‹λ‹¤.")
