# app.py
import streamlit as st
import random

st.set_page_config(page_title="MBTI 진로 추천", page_icon="🧭", layout="centered")

st.title("MBTI로 진로 2개 추천해줄게! ✨")
st.markdown("16가지 MBTI 중 하나를 골라줘. 각 진로마다 적합한 학과와 어떤 성격이 잘 맞는지도 알려줄게 😊")
st.caption("※ 추천은 참고용이에요. 본인 흥미·체력·가치관을 가장 중요하게 생각하세요!")

MBTI_TYPES = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

# 진로 데이터: MBTI -> [ (직업명, 학과 추천, 적합한 성격 설명), ... ]
CAREER_DB = {
    "ISTJ": [
        ("회계사 / 감사인", "회계학, 경영학", "세부사항을 꼼꼼히 챙기고 규칙을 잘 따르는 사람에게 적합합니다. 책임감 강함. 🧾"),
        ("공공기관 관리자", "행정학, 경영학", "체계적이고 안정적인 환경에서 꾸준히 일하는 걸 선호하는 사람에게 좋아요. 🏛️")
    ],
    "ISFJ": [
        ("간호사 / 보건행정", "간호학, 보건학", "타인을 돌보는 걸 좋아하고 책임감 있는 사람에게 잘 맞아요. 따뜻한 섬세함 💊"),
        ("사회복지사", "사회복지학", "남의 상황에 공감하고 실무로 돕는 걸 즐기는 사람에게 추천해요. 🤝")
    ],
    "INFJ": [
        ("상담심리사", "심리학, 상담학", "깊게 공감하고 사람들의 성장에 관심이 많은 타입에게 적합해요. 🌱"),
        ("교육 컨설턴트 / 진로지도", "교육학, 심리학", "개별 학생의 가능성을 보는 걸 좋아하는 사람에게 좋아요. 🎒")
    ],
    "INTJ": [
        ("전략기획 / 경영분석", "경영학, 산업공학", "장기적 계획 수립과 이론적 분석을 즐기는 사람에게 적합해요. ♟️"),
        ("연구개발(기술/과학)", "전공(화학/물리/컴공 등)", "복잡한 문제를 논리적으로 풀어가는 걸 좋아하는 사람에게 추천해요. 🔬")
    ],
    "ISTP": [
        ("엔지니어 / 기술직", "기계공학, 전기공학", "문제 해결을 직접 손으로 해보는 걸 좋아하는 실무형에게 잘 맞아요. 🛠️"),
        ("파일럿 / 운송 관련", "항공관련 학과, 물류학", "빠른 판단과 실전 감각이 좋은 사람에게 좋아요. ✈️")
    ],
    "ISFP": [
        ("디자이너(산업/패션/그래픽)", "디자인학, 패션학", "감성적이고 미적 감각이 뛰어난 사람에게 적합해요. 🎨"),
        ("조향사 / 요리사", "조리학, 식품학", "감각으로 표현하는 걸 즐기고 손으로 만드는 걸 좋아하는 타입에게 추천해요. 🍳")
    ],
    "INFP": [
        ("작가 / 콘텐츠 크리에이터", "국어국문학, 창작관련", "내면 표현과 창의적 아이디어를 중요시하는 사람에게 잘 맞아요. ✍️"),
        ("문화예술 기획", "문화콘텐츠학, 예술경영", "가치 중심으로 의미 있는 일을 만들고 싶은 사람에게 좋아요. 🎭")
    ],
    "INTP": [
        ("연구원 / 데이터 분석가", "수학, 통계학, 컴퓨터공학", "이론 탐구와 논리적 문제 풀이를 즐기는 사람에게 적합해요. 🧠"),
        ("소프트웨어 개발자", "컴퓨터공학, 소프트웨어학", "복잡한 시스템을 설계하고 개선하는 걸 즐기는 타입에게 추천해요. 💻")
    ],
    "ESTP": [
        ("영업 / 마케팅 실무", "경영학, 광고홍보학", "사교적이고 행동력이 빠른 사람에게 잘 맞아요. 실전형! ⚡"),
        ("이벤트 기획 / 현장 운영", "관광학, 이벤트학(또는 실무 중심 전공)", "현장에서 뛰며 즉각 대응하는 걸 좋아하는 분께 추천해요. 🎪")
    ],
    "ESFP": [
        ("방송/연예 / 퍼포먼스 관련", "연극영화학, 공연예술", "사람들 앞에서 에너지를 발산하는 걸 즐기는 분에게 적합해요. 🎤"),
        ("관광서비스 / 호텔리어", "호텔경영, 관광학", "사교적이고 손님 대하는 걸 좋아하는 사람에게 좋아요. 🏨")
    ],
    "ENFP": [
        ("창업 / 스타트업", "경영학, 창업학", "새로운 아이디어로 사람들을 끌어모으는 걸 좋아하는 분에게 딱이에요. 🚀"),
        ("콘텐츠 기획자 / 마케팅", "광고홍보학, 미디어학", "창의적 발상과 소통을 즐기는 사람에게 추천해요. 🎬")
    ],
    "ENTP": [
        ("제품 기획(PM) / 전략 컨설팅", "경영학, 산업공학", "아이디어로 문제를 해결하고 토론을 즐기는 분께 잘 맞아요. 🧩"),
        ("스타트업 창업자", "다양한 전공 가능 (실무/경영 능력 중요)", "빠르게 실험하고 성장시키는 환경을 좋아하는 타입에게 좋아요. ⚙️")
    ],
    "ESTJ": [
        ("운영관리 / 공장관리", "경영학, 산업경영공학", "규칙을 세우고 조직을 효율적으로 운영하는 걸 잘하는 사람에게 적합해요. 🏭"),
        ("공공행정 / 관리직", "행정학, 경영학", "책임감 있고 리더십 있는 분에게 추천해요. 📋")
    ],
    "ESFJ": [
        ("병원/학교 행정·코디네이터", "보건행정, 교육행정", "사람을 돌보고 조직을 돕는 실무에 강한 분께 좋아요. 🏥"),
        ("인사/HR", "심리학, 경영학", "사람을 이해하고 조율하는 걸 즐기는 사람에게 적합해요. 🤝")
    ],
    "ENFJ": [
        ("교육자 / 학교 교사", "교육학, 전공교과 관련", "사람의 성장에 기여하는 걸 즐기고 리더십 있는 분에게 좋아요. 🧑‍🏫"),
        ("조직 컨설턴트 / HR개발", "인사조직학, 산업심리학", "사람과 조직을 연결해 변화시키는 걸 잘하는 사람에게 추천해요. 🌱")
    ],
    "ENTJ": [
        ("기업 경영자 / 임원", "경영학, 경제학", "목표 지향적이고 전략적 사고를 가진 리더형에 잘 맞아요. 🏢"),
        ("전략 컨설턴트", "경영학, 경제학, 산업공학", "복잡한 문제를 큰 그림으로 풀어내는 능력이 강한 분께 추천해요. 📈")
    ],
}

def recommend(mbti):
    options = CAREER_DB.get(mbti, [])
    # 약간의 변주(순서 섞기)로 추천 느낌 업
    random.shuffle(options)
    return options

st.write("---")

col1, col2 = st.columns([1,2])
with col1:
    selection = st.selectbox("당신의 MBTI를 골라줘 🧾", MBTI_TYPES, index=0)
with col2:
    if st.button("추천 받기 ✅"):
        chosen = selection
        st.success(f"{chosen}형에게 어울리는 진로, 바로 보여줄게! ✨")
        recs = recommend(chosen)
        for idx, (job, major, personality) in enumerate(recs, start=1):
            st.markdown(f"### {idx}. {job} {'🔍' if idx==1 else '💡'}")
            st.write(f"**추천 학과:** {major}")
            st.write(f"**어떤 성격이 적합한가요?** {personality}")
            st.write("---")
        st.info("참고: 같은 MBTI라도 개인의 흥미/능력/가치관이 더 중요해요. 여러 진로를 직접 체험해보길 추천해요! ✨")
    else:
        st.write("MBTI를 선택하고 '추천 받기 ✅' 버튼을 눌러줘!")

st.write("")
st.markdown("#### 추가 팁")
st.markdown("- 좋아하는 과목, 동아리 활동, 아르바이트 경험을 적어보고 어떤 일이 즐거웠는지 정리해보자. 📝")
st.markdown("- 진로는 한번에 결정할 필요 없어! 여러 경험을 통해 조금씩 방향을 찾아가면 돼. 🚶‍♀️🚶‍♂️")

st.write("")
st.caption("만들어준 사람: ChatGPT — 참고용으로 재미있게 활용해줘 😊")
